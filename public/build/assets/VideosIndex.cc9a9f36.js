import{u as F,a as e,j as t,F as h,a1 as C,a2 as g,a3 as A,a4 as _,a5 as k,d as v}from"./app.1f67a9d2.js";import{A as y,b as E}from"./Assets.4426f7a3.js";import{u as S,M,D as x}from"./useModal.706c414e.js";import P from"./Layout.8d42564b.js";import{E as q}from"./index.b2e1243a.js";import{T as D}from"./index.8623a8c7.js";import{B as c}from"./button.307f30fa.js";import{F as s}from"./index.93d434ec.js";import{I as f}from"./index.696ce848.js";import{m as T}from"./index.65ebf2ba.js";import{F as w}from"./Form.e94c2286.js";import{M as N}from"./MinusCircleOutlined.89e2f57c.js";import{P as V}from"./PlusOutlined.6b970ccc.js";import"./ImagesHandler.e7d6fa9d.js";import"./ActionButton.7a1c7775.js";import"./index.c77a0880.js";import"./getScrollBarSize.001053fa.js";import"./KeyCode.bb3c3291.js";import"./pickAttrs.7f7fc2ab.js";import"./Up.1face89a.js";import"./motion.d9a726cb.js";import"./Dropdown.0262468a.js";import"./index.92e459fd.js";import"./Overflow.5dec982b.js";const L=({assets:i})=>{const[d]=w.useForm();return t("div",{className:"rounded bg-slate-50 shadow-sm p-4 my-16",children:[t("span",{className:"mb-4 block",children:[e(g,{icon:k})," Add new group video"]}),t(s,{form:d,name:"add_new_assets",className:"max-w-[500px] mx-auto",initialValues:{remember:!0},onFinish:o=>{v.Inertia.post(y.insertVideos(),{...o,name:i.name,assets_type:i.assetsType},{onSuccess:()=>{d.resetFields(),T.success("Data uploaded Successfuly")}})},autoComplete:"off",method:"post",encType:"multipart/form-data",children:[e(s.Item,{name:"group_name",rules:[{required:!0,message:"Please insert the name of the group"}],children:e(f,{placeholder:"Group Name"})}),e(x,{}),e(s.List,{name:"videos",children:(o,{add:p,remove:n},{errors:r})=>t(h,{children:[o.map((m,a)=>t(s.Item,{label:`Video no ${a+1}`,required:!0,children:[e(s.Item,{...m,validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"Please input embed code here"}],noStyle:!0,children:e(f.TextArea,{placeholder:"Embed code",style:{width:"80%"}})}),e(N,{className:"dynamic-delete-button mx-2",onClick:()=>n(m.name)})]},m.key)),t(s.Item,{wrapperCol:{offset:6,span:16},children:[e(c,{type:"dashed",onClick:()=>p(),icon:e(V,{}),children:"Add video"}),e(s.ErrorList,{errors:r})]})]})}),e(s.Item,{children:e(c,{type:"primary",htmlType:"submit",children:"Submit"})})]})]})},O=({group:i,name:d,close:l})=>{const[o]=w.useForm();return t(s,{form:o,name:"edit_videos",className:"max-w-[500px] mx-auto",initialValues:{remember:!0},onFinish:n=>{v.Inertia.post(y.editVideos(),{...n,group_id:i.id,name:d,assets_type:E.videos},{onSuccess:()=>{o.resetFields(),T.success("Data uploaded Successfuly"),l()}})},autoComplete:"off",method:"post",encType:"multipart/form-data",children:[e(s.Item,{name:"group_name",initialValue:i.name,rules:[{required:!0,message:"Please insert the name of the group"}],children:e(f,{placeholder:"Group Name"})}),e(x,{}),e(s.List,{name:"videos",initialValue:i.videos,children:(n,{add:r,remove:m},{errors:a})=>t(h,{children:[n.map((u,b)=>t(s.Item,{label:`Video no ${b+1}`,required:!0,children:[e(s.Item,{...u,validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"Please input embed code here"}],noStyle:!0,children:e(f.TextArea,{placeholder:"Embed code",style:{width:"80%"}})}),e(N,{className:"dynamic-delete-button mx-2",onClick:()=>m(u.name)})]},u.key)),t(s.Item,{wrapperCol:{offset:6,span:16},children:[e(c,{type:"dashed",onClick:()=>r(),icon:e(V,{}),children:"Add video"}),e(s.ErrorList,{errors:a})]})]})}),e(s.Item,{children:e(c,{type:"primary",htmlType:"submit",children:"Submit Changes"})})]})};function de({assetsDB:i}){F();const[{isOpen:d,data:l},o,p,n]=S(),r=new y(i),m=a=>v.Inertia.post(y.removeVideos(),{group_id:a.id,name:r.name,assets_type:r.assetsType});return e(P,{children:t(h,{children:[e(C,{children:e(L,{assets:r})}),r.videos.length===0?e(q,{description:"No data yet"}):e(D,{defaultActiveKey:"1",tabPosition:"left",className:"bg-slate-50 rounded p-4",items:r.videos.map((a,u)=>({label:t("div",{className:"flex gap-4",children:[e("p",{children:a.name}),t(C,{children:[e(c,{onClick:()=>n({group:a,name:r.name}),size:"small",type:"dashed",icon:e(g,{className:"text-gray-600",icon:A})}),e(c,{onClick:()=>m(a),size:"small",danger:!0,icon:e(g,{icon:_})})]})]}),key:a.id,disabled:u===28,children:e(h,{children:a.videos.map((b,I)=>e("div",{className:"rounded shadow p-4 bg-gray-100 my-4",children:e("div",{className:"meeting-iframe",dangerouslySetInnerHTML:{__html:b}},I)},I))})}))}),e(M,{title:"Edit Videos",open:d,onCancel:p,footer:null,destroyOnClose:!0,children:l&&e(O,{group:l.group,name:l.name,close:p})})]})})}export{de as default};
