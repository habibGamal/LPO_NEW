import{r as u,M as Ut,a as _,h as Oe,f as pe,t as ve,F as pt,i as ue,k as be,_ as Xt,j as De,s as fr,w as Et,C as hr,e as Ae,g as pr,R as Qe,Y as vr}from"./app.948f2684.js";import{M as mr}from"./index.9077f4f8.js";import{U as et}from"./index.b73a11fe.js";import{s as gr}from"./index.92e459fd.js";import{u as Cr,T as xr}from"./index.630e49ee.js";import{K as xe}from"./KeyCode.bb3c3291.js";var Me=u.exports.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0});function nt(t,n,e){return(t-n)/(e-n)}function vt(t,n,e,r){var o=nt(n,e,r),a={};switch(t){case"rtl":a.right="".concat(o*100,"%"),a.transform="translateX(50%)";break;case"btt":a.bottom="".concat(o*100,"%"),a.transform="translateY(50%)";break;case"ttb":a.top="".concat(o*100,"%"),a.transform="translateY(-50%)";break;default:a.left="".concat(o*100,"%"),a.transform="translateX(-50%)";break}return a}function Pe(t,n){return Array.isArray(t)?t[n]:t}var yr=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange"],br=u.exports.forwardRef(function(t,n){var e,r,o=t.prefixCls,a=t.value,i=t.valueIndex,s=t.onStartMove,c=t.style,l=t.render,p=t.dragging,g=t.onOffsetChange,C=Ut(t,yr),v=u.exports.useContext(Me),d=v.min,m=v.max,h=v.direction,x=v.disabled,f=v.range,b=v.tabIndex,T=v.ariaLabelForHandle,E=v.ariaLabelledByForHandle,k=v.ariaValueTextFormatterForHandle,w="".concat(o,"-handle"),y=function(W){x||s(W,i)},R=function(W){if(!x){var z=null;switch(W.which||W.keyCode){case xe.LEFT:z=h==="ltr"||h==="btt"?-1:1;break;case xe.RIGHT:z=h==="ltr"||h==="btt"?1:-1;break;case xe.UP:z=h!=="ttb"?1:-1;break;case xe.DOWN:z=h!=="ttb"?-1:1;break;case xe.HOME:z="min";break;case xe.END:z="max";break;case xe.PAGE_UP:z=2;break;case xe.PAGE_DOWN:z=-2;break}z!==null&&(W.preventDefault(),g(z,i))}},M=vt(h,a,d,m),F=_("div",{ref:n,className:Oe(w,(e={},pe(e,"".concat(w,"-").concat(i+1),f),pe(e,"".concat(w,"-dragging"),p),e)),style:ve(ve({},M),c),onMouseDown:y,onTouchStart:y,onKeyDown:R,tabIndex:x?null:Pe(b,i),role:"slider","aria-valuemin":d,"aria-valuemax":m,"aria-valuenow":a,"aria-disabled":x,"aria-label":Pe(T,i),"aria-labelledby":Pe(E,i),"aria-valuetext":(r=Pe(k,i))===null||r===void 0?void 0:r(a),...C});return l&&(F=l(F,{index:i,prefixCls:o,value:a,dragging:p})),F}),wr=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","draggingIndex"],Sr=u.exports.forwardRef(function(t,n){var e=t.prefixCls,r=t.style,o=t.onStartMove,a=t.onOffsetChange,i=t.values,s=t.handleRender,c=t.draggingIndex,l=Ut(t,wr),p=u.exports.useRef({});return u.exports.useImperativeHandle(n,function(){return{focus:function(C){var v;(v=p.current[C])===null||v===void 0||v.focus()}}}),_(pt,{children:i.map(function(g,C){return _(br,{ref:function(d){d?p.current[C]=d:delete p.current[C]},dragging:c===C,prefixCls:e,style:Pe(r,C),value:g,valueIndex:C,onStartMove:o,onOffsetChange:a,render:s,...l},C)})})});function Pt(t){var n="touches"in t?t.touches[0]:t;return{pageX:n.pageX,pageY:n.pageY}}function Rr(t,n,e,r,o,a,i,s,c){var l=u.exports.useState(null),p=ue(l,2),g=p[0],C=p[1],v=u.exports.useState(-1),d=ue(v,2),m=d[0],h=d[1],x=u.exports.useState(e),f=ue(x,2),b=f[0],T=f[1],E=u.exports.useState(e),k=ue(E,2),w=k[0],y=k[1],R=u.exports.useRef(null),M=u.exports.useRef(null);u.exports.useEffect(function(){m===-1&&T(e)},[e,m]),u.exports.useEffect(function(){return function(){document.removeEventListener("mousemove",R.current),document.removeEventListener("mouseup",M.current),document.removeEventListener("touchmove",R.current),document.removeEventListener("touchend",M.current)}},[]);var F=function(O,L){b.some(function(X,ce){return X!==O[ce]})&&(L!==void 0&&C(L),T(O),i(O))},I=function(O,L){if(O===-1){var X=w[0],ce=w[w.length-1],le=r-X,N=o-ce,P=L*(o-r);P=Math.max(P,le),P=Math.min(P,N);var A=a(X+P);P=A-X;var $=w.map(function(te){return te+P});F($)}else{var q=(o-r)*L,Y=be(b);Y[O]=w[O];var ie=c(Y,q,O,"dist");F(ie.values,ie.value)}},W=u.exports.useRef(I);W.current=I;var z=function(O,L){O.stopPropagation();var X=e[L];h(L),C(X),y(e);var ce=Pt(O),le=ce.pageX,N=ce.pageY,P=function(q){q.preventDefault();var Y=Pt(q),ie=Y.pageX,te=Y.pageY,re=ie-le,se=te-N,K=t.current.getBoundingClientRect(),Q=K.width,J=K.height,j;switch(n){case"btt":j=-se/J;break;case"ttb":j=se/J;break;case"rtl":j=-re/Q;break;default:j=re/Q}W.current(L,j)},A=function $(q){q.preventDefault(),document.removeEventListener("mouseup",$),document.removeEventListener("mousemove",P),document.removeEventListener("touchend",$),document.removeEventListener("touchmove",P),R.current=null,M.current=null,h(-1),s()};document.addEventListener("mouseup",A),document.addEventListener("mousemove",P),document.addEventListener("touchend",A),document.addEventListener("touchmove",P),R.current=P,M.current=A},V=u.exports.useMemo(function(){var U=be(e).sort(function(L,X){return L-X}),O=be(b).sort(function(L,X){return L-X});return U.every(function(L,X){return L===O[X]})?b:e},[e,b]);return[m,g,V,z]}function Mr(t){var n=t.prefixCls,e=t.style,r=t.start,o=t.end,a=t.index,i=t.onStartMove,s=u.exports.useContext(Me),c=s.direction,l=s.min,p=s.max,g=s.disabled,C=s.range,v="".concat(n,"-track"),d=nt(r,l,p),m=nt(o,l,p),h=function(b){!g&&i&&i(b,-1)},x={};switch(c){case"rtl":x.right="".concat(d*100,"%"),x.width="".concat(m*100-d*100,"%");break;case"btt":x.bottom="".concat(d*100,"%"),x.height="".concat(m*100-d*100,"%");break;case"ttb":x.top="".concat(d*100,"%"),x.height="".concat(m*100-d*100,"%");break;default:x.left="".concat(d*100,"%"),x.width="".concat(m*100-d*100,"%")}return _("div",{className:Oe(v,C&&"".concat(v,"-").concat(a+1)),style:ve(ve({},x),e),onMouseDown:h,onTouchStart:h})}function _r(t){var n=t.prefixCls,e=t.style,r=t.values,o=t.startPoint,a=t.onStartMove,i=u.exports.useContext(Me),s=i.included,c=i.range,l=i.min,p=u.exports.useMemo(function(){if(!c){if(r.length===0)return[];var g=o!=null?o:l,C=r[0];return[{start:Math.min(g,C),end:Math.max(g,C)}]}for(var v=[],d=0;d<r.length-1;d+=1)v.push({start:r[d],end:r[d+1]});return v},[r,c,o,l]);return s?p.map(function(g,C){var v=g.start,d=g.end;return _(Mr,{index:C,prefixCls:n,style:Pe(e,C),start:v,end:d,onStartMove:a},C)}):null}function Er(t){var n=t.prefixCls,e=t.style,r=t.children,o=t.value,a=t.onClick,i=u.exports.useContext(Me),s=i.min,c=i.max,l=i.direction,p=i.includedStart,g=i.includedEnd,C=i.included,v="".concat(n,"-text"),d=vt(l,o,s,c);return _("span",{className:Oe(v,pe({},"".concat(v,"-active"),C&&p<=o&&o<=g)),style:ve(ve({},d),e),onMouseDown:function(h){h.stopPropagation()},onClick:function(){a(o)},children:r})}function Pr(t){var n=t.prefixCls,e=t.marks,r=t.onClick,o="".concat(n,"-mark");return e.length?_("div",{className:o,children:e.map(function(a){var i=a.value,s=a.style,c=a.label;return _(Er,{prefixCls:o,style:s,value:i,onClick:r,children:c},i)})}):null}function Dr(t){var n=t.prefixCls,e=t.value,r=t.style,o=t.activeStyle,a=u.exports.useContext(Me),i=a.min,s=a.max,c=a.direction,l=a.included,p=a.includedStart,g=a.includedEnd,C="".concat(n,"-dot"),v=l&&p<=e&&e<=g,d=ve(ve({},vt(c,e,i,s)),typeof r=="function"?r(e):r);return v&&(d=ve(ve({},d),typeof o=="function"?o(e):o)),_("span",{className:Oe(C,pe({},"".concat(C,"-active"),v)),style:d})}function Tr(t){var n=t.prefixCls,e=t.marks,r=t.dots,o=t.style,a=t.activeStyle,i=u.exports.useContext(Me),s=i.min,c=i.max,l=i.step,p=u.exports.useMemo(function(){var g=new Set;if(e.forEach(function(v){g.add(v.value)}),r&&l!==null)for(var C=s;C<=c;)g.add(C),C+=l;return Array.from(g)},[s,c,l,r,e]);return _("div",{className:"".concat(n,"-step"),children:p.map(function(g){return _(Dr,{prefixCls:n,value:g,style:o,activeStyle:a},g)})})}function Or(t,n,e,r,o,a){var i=u.exports.useCallback(function(v){var d=isFinite(v)?v:t;return d=Math.min(n,v),d=Math.max(t,d),d},[t,n]),s=u.exports.useCallback(function(v){if(e!==null){var d=t+Math.round((i(v)-t)/e)*e,m=function(b){return(String(b).split(".")[1]||"").length},h=Math.max(m(e),m(n),m(t)),x=Number(d.toFixed(h));return t<=x&&x<=n?x:null}return null},[e,t,n,i]),c=u.exports.useCallback(function(v){var d=i(v),m=r.map(function(f){return f.value});e!==null&&m.push(s(v)),m.push(t,n);var h=m[0],x=n-t;return m.forEach(function(f){var b=Math.abs(d-f);b<=x&&(h=f,x=b)}),h},[t,n,r,e,i,s]),l=function v(d,m,h){var x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof m=="number"){var f,b=d[h],T=b+m,E=[];r.forEach(function(M){E.push(M.value)}),E.push(t,n),E.push(s(b));var k=m>0?1:-1;x==="unit"?E.push(s(b+k*e)):E.push(s(T)),E=E.filter(function(M){return M!==null}).filter(function(M){return m<0?M<=b:M>=b}),x==="unit"&&(E=E.filter(function(M){return M!==b}));var w=x==="unit"?b:T;f=E[0];var y=Math.abs(f-w);if(E.forEach(function(M){var F=Math.abs(M-w);F<y&&(f=M,y=F)}),f===void 0)return m<0?t:n;if(x==="dist")return f;if(Math.abs(m)>1){var R=be(d);return R[h]=f,v(R,m-k,h,x)}return f}else{if(m==="min")return t;if(m==="max")return n}},p=function(d,m,h){var x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",f=d[h],b=l(d,m,h,x);return{value:b,changed:b!==f}},g=function(d){return a===null&&d===0||typeof a=="number"&&d<a},C=function(d,m,h){var x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",f=d.map(c),b=f[h],T=l(f,m,h,x);if(f[h]=T,o===!1){var E=a||0;h>0&&f[h-1]!==b&&(f[h]=Math.max(f[h],f[h-1]+E)),h<f.length-1&&f[h+1]!==b&&(f[h]=Math.min(f[h],f[h+1]-E))}else if(typeof a=="number"||a===null){for(var k=h+1;k<f.length;k+=1)for(var w=!0;g(f[k]-f[k-1])&&w;){var y=p(f,1,k);f[k]=y.value,w=y.changed}for(var R=h;R>0;R-=1)for(var M=!0;g(f[R]-f[R-1])&&M;){var F=p(f,-1,R-1);f[R-1]=F.value,M=F.changed}for(var I=f.length-1;I>0;I-=1)for(var W=!0;g(f[I]-f[I-1])&&W;){var z=p(f,-1,I-1);f[I-1]=z.value,W=z.changed}for(var V=0;V<f.length-1;V+=1)for(var U=!0;g(f[V+1]-f[V])&&U;){var O=p(f,1,V+1);f[V+1]=O.value,U=O.changed}}return{value:f[h],values:f}};return[c,C]}var kr=u.exports.forwardRef(function(t,n){var e,r=t.prefixCls,o=r===void 0?"rc-slider":r,a=t.className,i=t.style,s=t.disabled,c=s===void 0?!1:s,l=t.autoFocus,p=t.onFocus,g=t.onBlur,C=t.min,v=C===void 0?0:C,d=t.max,m=d===void 0?100:d,h=t.step,x=h===void 0?1:h,f=t.value,b=t.defaultValue,T=t.range,E=t.count,k=t.onChange,w=t.onBeforeChange,y=t.onAfterChange,R=t.allowCross,M=R===void 0?!0:R,F=t.pushable,I=F===void 0?!1:F,W=t.draggableTrack,z=t.reverse,V=t.vertical,U=t.included,O=U===void 0?!0:U,L=t.startPoint,X=t.trackStyle,ce=t.handleStyle,le=t.railStyle,N=t.dotStyle,P=t.activeDotStyle,A=t.marks,$=t.dots,q=t.handleRender,Y=t.tabIndex,ie=Y===void 0?0:Y,te=t.ariaLabelForHandle,re=t.ariaLabelledByForHandle,se=t.ariaValueTextFormatterForHandle,K=u.exports.useRef(),Q=u.exports.useRef(),J=u.exports.useMemo(function(){return V?z?"ttb":"btt":z?"rtl":"ltr"},[z,V]),j=u.exports.useMemo(function(){return isFinite(v)?v:0},[v]),ne=u.exports.useMemo(function(){return isFinite(m)?m:100},[m]),B=u.exports.useMemo(function(){return x!==null&&x<=0?1:x},[x]),me=u.exports.useMemo(function(){return I===!0?B:I>=0?I:!1},[I,B]),oe=u.exports.useMemo(function(){var Z=Object.keys(A||{});return Z.map(function(D){var S=A[D],G={value:Number(D)};return S&&Xt(S)==="object"&&!u.exports.isValidElement(S)&&("label"in S||"style"in S)?(G.style=S.style,G.label=S.label):G.label=S,G}).filter(function(D){var S=D.label;return S||typeof S=="number"}).sort(function(D,S){return D.value-S.value})},[A]),Le=Or(j,ne,B,oe,M,me),ge=ue(Le,2),de=ge[0],ke=ge[1],$e=Cr(b,{value:f}),Ie=ue($e,2),fe=Ie[0],Ve=Ie[1],he=u.exports.useMemo(function(){var Z=fe==null?[]:Array.isArray(fe)?fe:[fe],D=ue(Z,1),S=D[0],G=S===void 0?j:S,H=fe===null?[]:[G];if(T){if(H=be(Z),E||fe===void 0){var Ee=E>=0?E+1:2;for(H=H.slice(0,Ee);H.length<Ee;){var Se;H.push((Se=H[H.length-1])!==null&&Se!==void 0?Se:j)}}H.sort(function(Ce,ze){return Ce-ze})}return H.forEach(function(Ce,ze){H[ze]=de(Ce)}),H},[fe,T,j,E,de]),We=u.exports.useRef(he);We.current=he;var we=function(D){return T?D:D[0]},qe=function(D){var S=be(D).sort(function(G,H){return G-H});k&&!gr(S,We.current)&&k(we(S)),Ve(S)},mt=function(D){if(!c){var S=0,G=ne-j;he.forEach(function(Ee,Se){var Ce=Math.abs(D-Ee);Ce<=G&&(G=Ce,S=Se)});var H=be(he);H[S]=D,T&&!he.length&&E===void 0&&H.push(D),w==null||w(we(H)),qe(H),y==null||y(we(H))}},tr=function(D){D.preventDefault();var S=Q.current.getBoundingClientRect(),G=S.width,H=S.height,Ee=S.left,Se=S.top,Ce=S.bottom,ze=S.right,Mt=D.clientX,_t=D.clientY,Ne;switch(J){case"btt":Ne=(Ce-_t)/H;break;case"ttb":Ne=(_t-Se)/H;break;case"rtl":Ne=(ze-Mt)/G;break;default:Ne=(Mt-Ee)/G}var dr=j+Ne*(ne-j);mt(de(dr))},rr=u.exports.useState(null),gt=ue(rr,2),Ke=gt[0],Ct=gt[1],nr=function(D,S){if(!c){var G=ke(he,D,S);w==null||w(we(he)),qe(G.values),y==null||y(we(G.values)),Ct(G.value)}};u.exports.useEffect(function(){if(Ke!==null){var Z=he.indexOf(Ke);Z>=0&&K.current.focus(Z)}Ct(null)},[Ke]);var or=u.exports.useMemo(function(){return W&&B===null?!1:W},[W,B]),ar=function(){y==null||y(we(We.current))},ir=Rr(Q,J,he,j,ne,de,qe,ar,ke),He=ue(ir,4),xt=He[0],sr=He[1],Je=He[2],cr=He[3],yt=function(D,S){cr(D,S),w==null||w(we(We.current))},bt=xt!==-1;u.exports.useEffect(function(){if(!bt){var Z=he.lastIndexOf(sr);K.current.focus(Z)}},[bt]);var _e=u.exports.useMemo(function(){return be(Je).sort(function(Z,D){return Z-D})},[Je]),ur=u.exports.useMemo(function(){return T?[_e[0],_e[_e.length-1]]:[j,_e[0]]},[_e,T,j]),wt=ue(ur,2),St=wt[0],Rt=wt[1];u.exports.useImperativeHandle(n,function(){return{focus:function(){K.current.focus(0)},blur:function(){var D=document,S=D.activeElement;Q.current.contains(S)&&(S==null||S.blur())}}}),u.exports.useEffect(function(){l&&K.current.focus(0)},[]);var lr=u.exports.useMemo(function(){return{min:j,max:ne,direction:J,disabled:c,step:B,included:O,includedStart:St,includedEnd:Rt,range:T,tabIndex:ie,ariaLabelForHandle:te,ariaLabelledByForHandle:re,ariaValueTextFormatterForHandle:se}},[j,ne,J,c,B,O,St,Rt,T,ie,te,re,se]);return _(Me.Provider,{value:lr,children:De("div",{ref:Q,className:Oe(o,a,(e={},pe(e,"".concat(o,"-disabled"),c),pe(e,"".concat(o,"-vertical"),V),pe(e,"".concat(o,"-horizontal"),!V),pe(e,"".concat(o,"-with-marks"),oe.length),e)),style:i,onMouseDown:tr,children:[_("div",{className:"".concat(o,"-rail"),style:le}),_(_r,{prefixCls:o,style:X,values:_e,startPoint:L,onStartMove:or?yt:null}),_(Tr,{prefixCls:o,marks:oe,dots:$,style:N,activeStyle:P}),_(Sr,{ref:K,prefixCls:o,style:ce,values:Je,draggingIndex:xt,onStartMove:yt,onOffsetChange:nr,onFocus:p,onBlur:g,handleRender:q}),_(Pr,{prefixCls:o,marks:oe,onClick:mt})]})})}),zr=u.exports.forwardRef(function(t,n){var e=t.open,r=u.exports.useRef(null),o=u.exports.useRef(null);function a(){Et.cancel(o.current),o.current=null}function i(){o.current=Et(function(){var s;(s=r.current)===null||s===void 0||s.forcePopupAlign(),o.current=null})}return u.exports.useEffect(function(){return e?i():a(),a},[e,t.title]),_(xr,{ref:fr(r,n),...t})});const Nr=zr;var Ar=globalThis&&globalThis.__rest||function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(e[r[o]]=t[r[o]]);return e},Fr=u.exports.forwardRef(function(t,n){var e=u.exports.useContext(hr),r=e.getPrefixCls,o=e.direction,a=e.getPopupContainer,i=u.exports.useState({}),s=ue(i,2),c=s[0],l=s[1],p=function(y,R){l(function(M){return Ae(Ae({},M),pe({},y,R))})},g=function(y,R){return y||(R?o==="rtl"?"left":"right":"top")},C=t.prefixCls,v=t.range,d=t.className,m=Ar(t,["prefixCls","range","className"]),h=r("slider",C),x=Oe(d,pe({},"".concat(h,"-rtl"),o==="rtl"));o==="rtl"&&!m.vertical&&(m.reverse=!m.reverse);var f=u.exports.useMemo(function(){return v?Xt(v)==="object"?[!0,v.draggableTrack]:[!0,!1]:[!1]},[v]),b=ue(f,2),T=b[0],E=b[1],k=function(y,R){var M,F=R.index,I=R.dragging,W=r(),z=t.tooltip,V=z===void 0?{}:z,U=t.vertical,O=Ae({formatter:(M=t.tipFormatter)!==null&&M!==void 0?M:function(Y){return typeof Y=="number"?Y.toString():""},open:t.tooltipVisible,placement:t.tooltipPlacement,getPopupContainer:t.getTooltipPopupContainer},V),L=O.open,X=O.placement,ce=O.getPopupContainer,le=O.prefixCls,N=O.formatter,P=N?c[F]||I:!1,A=L||L===void 0&&P,$=Ae(Ae({},y.props),{onMouseEnter:function(){return p(F,!0)},onMouseLeave:function(){return p(F,!1)}}),q=r("tooltip",le);return _(Nr,{prefixCls:q,title:N?N(R.value):"",open:A,placement:g(X,U),transitionName:"".concat(W,"-zoom-down"),overlayClassName:"".concat(h,"-tooltip"),getPopupContainer:ce||a,children:u.exports.cloneElement(y,$)},F)};return _(kr,{...m,step:m.step,range:T,draggableTrack:E,className:x,ref:n,prefixCls:h,handleRender:k})});const Dt=Fr,Lr="4.24.2";function $r(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(e[r[o]]=t[r[o]]);return e}function tt(t,n,e,r){function o(a){return a instanceof e?a:new e(function(i){i(a)})}return new(e||(e=Promise))(function(a,i){function s(p){try{l(r.next(p))}catch(g){i(g)}}function c(p){try{l(r.throw(p))}catch(g){i(g)}}function l(p){p.done?a(p.value):o(p.value).then(s,c)}l((r=r.apply(t,n||[])).next())})}const Ir=(t,n)=>{const e=Tt(t),r=Tt(n),o=e.pop(),a=r.pop(),i=zt(e,r);return i!==0?i:o&&a?zt(o.split("."),a.split(".")):o||a?o?-1:1:0},Wr=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,Tt=t=>{if(typeof t!="string")throw new TypeError("Invalid argument expected string");const n=t.match(Wr);if(!n)throw new Error(`Invalid argument not valid semver ('${t}' received)`);return n.shift(),n},Ot=t=>t==="*"||t==="x"||t==="X",kt=t=>{const n=parseInt(t,10);return isNaN(n)?t:n},Hr=(t,n)=>typeof t!=typeof n?[String(t),String(n)]:[t,n],jr=(t,n)=>{if(Ot(t)||Ot(n))return 0;const[e,r]=Hr(kt(t),kt(n));return e>r?1:e<r?-1:0},zt=(t,n)=>{for(let e=0;e<Math.max(t.length,n.length);e++){const r=jr(t[e]||"0",n[e]||"0");if(r!==0)return r}return 0};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ot=function(t,n){return ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},ot(t,n)};function Zr(t,n){ot(t,n);function e(){this.constructor=t}t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}var ee=function(){return ee=Object.assign||function(n){for(var e,r=1,o=arguments.length;r<o;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},ee.apply(this,arguments)},Bt={exports:{}},Nt=!1,Re,at,it,Xe,Be,Yt,Ye,st,ct,ut,Gt,lt,dt,Vt,qt;function ae(){if(!Nt){Nt=!0;var t=navigator.userAgent,n=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),e=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(lt=/\b(iPhone|iP[ao]d)/.exec(t),dt=/\b(iP[ao]d)/.exec(t),ut=/Android/i.exec(t),Vt=/FBAN\/\w+;/i.exec(t),qt=/Mobile/i.exec(t),Gt=!!/Win64/.exec(t),n){Re=n[1]?parseFloat(n[1]):n[5]?parseFloat(n[5]):NaN,Re&&document&&document.documentMode&&(Re=document.documentMode);var r=/(?:Trident\/(\d+.\d+))/.exec(t);Yt=r?parseFloat(r[1])+4:Re,at=n[2]?parseFloat(n[2]):NaN,it=n[3]?parseFloat(n[3]):NaN,Xe=n[4]?parseFloat(n[4]):NaN,Xe?(n=/(?:Chrome\/(\d+\.\d+))/.exec(t),Be=n&&n[1]?parseFloat(n[1]):NaN):Be=NaN}else Re=at=it=Be=Xe=NaN;if(e){if(e[1]){var o=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);Ye=o?parseFloat(o[1].replace("_",".")):!0}else Ye=!1;st=!!e[2],ct=!!e[3]}else Ye=st=ct=!1}}var ft={ie:function(){return ae()||Re},ieCompatibilityMode:function(){return ae()||Yt>Re},ie64:function(){return ft.ie()&&Gt},firefox:function(){return ae()||at},opera:function(){return ae()||it},webkit:function(){return ae()||Xe},safari:function(){return ft.webkit()},chrome:function(){return ae()||Be},windows:function(){return ae()||st},osx:function(){return ae()||Ye},linux:function(){return ae()||ct},iphone:function(){return ae()||lt},mobile:function(){return ae()||lt||dt||ut||qt},nativeApp:function(){return ae()||Vt},android:function(){return ae()||ut},ipad:function(){return ae()||dt}},Ur=ft,je=!!(typeof window<"u"&&window.document&&window.document.createElement),Xr={canUseDOM:je,canUseWorkers:typeof Worker<"u",canUseEventListeners:je&&!!(window.addEventListener||window.attachEvent),canUseViewport:je&&!!window.screen,isInWorker:!je},Br=Xr,Kt=Br,Jt;Kt.canUseDOM&&(Jt=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function Yr(t,n){if(!Kt.canUseDOM||n&&!("addEventListener"in document))return!1;var e="on"+t,r=e in document;if(!r){var o=document.createElement("div");o.setAttribute(e,"return;"),r=typeof o[e]=="function"}return!r&&Jt&&t==="wheel"&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var Gr=Yr,Vr=Ur,qr=Gr,At=10,Ft=40,Lt=800;function Qt(t){var n=0,e=0,r=0,o=0;return"detail"in t&&(e=t.detail),"wheelDelta"in t&&(e=-t.wheelDelta/120),"wheelDeltaY"in t&&(e=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(n=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(n=e,e=0),r=n*At,o=e*At,"deltaY"in t&&(o=t.deltaY),"deltaX"in t&&(r=t.deltaX),(r||o)&&t.deltaMode&&(t.deltaMode==1?(r*=Ft,o*=Ft):(r*=Lt,o*=Lt)),r&&!n&&(n=r<1?-1:1),o&&!e&&(e=o<1?-1:1),{spinX:n,spinY:e,pixelX:r,pixelY:o}}Qt.getEventType=function(){return Vr.firefox()?"DOMMouseScroll":qr("wheel")?"wheel":"mousewheel"};var Kr=Qt;(function(t){t.exports=Kr})(Bt);const Jr=pr(Bt.exports);function Qr(t,n,e,r,o,a){a===void 0&&(a=0);var i=Te(t,n,a),s=i.width,c=i.height,l=Math.min(s,e),p=Math.min(c,r);return l>p*o?{width:p*o,height:p}:{width:l,height:l/o}}function en(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function Ze(t,n,e,r,o){o===void 0&&(o=0);var a=Te(n.width,n.height,o),i=a.width,s=a.height;return{x:$t(t.x,i,e.width,r),y:$t(t.y,s,e.height,r)}}function $t(t,n,e,r){var o=n*r/2-e/2;return Ge(t,-o,o)}function It(t,n){return Math.sqrt(Math.pow(t.y-n.y,2)+Math.pow(t.x-n.x,2))}function Wt(t,n){return Math.atan2(n.y-t.y,n.x-t.x)*180/Math.PI}function tn(t,n,e,r,o,a,i){a===void 0&&(a=0),i===void 0&&(i=!0);var s=i?rn:nn,c=Te(n.width,n.height,a),l=Te(n.naturalWidth,n.naturalHeight,a),p={x:s(100,((c.width-e.width/o)/2-t.x/o)/c.width*100),y:s(100,((c.height-e.height/o)/2-t.y/o)/c.height*100),width:s(100,e.width/c.width*100/o),height:s(100,e.height/c.height*100/o)},g=Math.round(s(l.width,p.width*l.width/100)),C=Math.round(s(l.height,p.height*l.height/100)),v=l.width>=l.height*r,d=v?{width:Math.round(C*r),height:C}:{width:g,height:Math.round(g/r)},m=ee(ee({},d),{x:Math.round(s(l.width-d.width,p.x*l.width/100)),y:Math.round(s(l.height-d.height,p.y*l.height/100))});return{croppedAreaPercentages:p,croppedAreaPixels:m}}function rn(t,n){return Math.min(t,Math.max(0,n))}function nn(t,n){return n}function on(t,n,e,r,o,a){var i=Te(n.width,n.height,e),s=Ge(r.width/i.width*(100/t.width),o,a),c={x:s*i.width/2-r.width/2-i.width*s*(t.x/100),y:s*i.height/2-r.height/2-i.height*s*(t.y/100)};return{crop:c,zoom:s}}function an(t,n,e){var r=en(n);return e.height>e.width?e.height/(t.height*r):e.width/(t.width*r)}function sn(t,n,e,r,o,a){e===void 0&&(e=0);var i=Te(n.naturalWidth,n.naturalHeight,e),s=Ge(an(t,n,r),o,a),c=r.height>r.width?r.height/t.height:r.width/t.width,l={x:((i.width-t.width)/2-t.x)*c,y:((i.height-t.height)/2-t.y)*c};return{crop:l,zoom:s}}function Ht(t,n){return{x:(n.x+t.x)/2,y:(n.y+t.y)/2}}function cn(t){return t*Math.PI/180}function Te(t,n,e){var r=cn(e);return{width:Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*n),height:Math.abs(Math.sin(r)*t)+Math.abs(Math.cos(r)*n)}}function Ge(t,n,e){return Math.min(Math.max(t,n),e)}function Ue(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.filter(function(e){return typeof e=="string"&&e.length>0}).join(" ").trim()}var un=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,ln=1,dn=3,fn=function(t){Zr(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.imageRef=Qe.createRef(),e.videoRef=Qe.createRef(),e.containerRef=null,e.styleRef=null,e.containerRect=null,e.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},e.dragStartPosition={x:0,y:0},e.dragStartCrop={x:0,y:0},e.gestureZoomStart=0,e.gestureRotationStart=0,e.isTouching=!1,e.lastPinchDistance=0,e.lastPinchRotation=0,e.rafDragTimeout=null,e.rafPinchTimeout=null,e.wheelTimer=null,e.currentDoc=document,e.currentWindow=window,e.state={cropSize:null,hasWheelJustStarted:!1},e.preventZoomSafari=function(r){return r.preventDefault()},e.cleanEvents=function(){e.currentDoc.removeEventListener("mousemove",e.onMouseMove),e.currentDoc.removeEventListener("mouseup",e.onDragStopped),e.currentDoc.removeEventListener("touchmove",e.onTouchMove),e.currentDoc.removeEventListener("touchend",e.onDragStopped),e.currentDoc.removeEventListener("gesturemove",e.onGestureMove),e.currentDoc.removeEventListener("gestureend",e.onGestureEnd)},e.clearScrollEvent=function(){e.containerRef&&e.containerRef.removeEventListener("wheel",e.onWheel),e.wheelTimer&&clearTimeout(e.wheelTimer)},e.onMediaLoad=function(){var r=e.computeSizes();r&&(e.emitCropData(),e.setInitialCrop(r)),e.props.onMediaLoaded&&e.props.onMediaLoaded(e.mediaSize)},e.setInitialCrop=function(r){if(e.props.initialCroppedAreaPercentages){var o=on(e.props.initialCroppedAreaPercentages,e.mediaSize,e.props.rotation,r,e.props.minZoom,e.props.maxZoom),a=o.crop,i=o.zoom;e.props.onCropChange(a),e.props.onZoomChange&&e.props.onZoomChange(i)}else if(e.props.initialCroppedAreaPixels){var s=sn(e.props.initialCroppedAreaPixels,e.mediaSize,e.props.rotation,r,e.props.minZoom,e.props.maxZoom),a=s.crop,i=s.zoom;e.props.onCropChange(a),e.props.onZoomChange&&e.props.onZoomChange(i)}},e.computeSizes=function(){var r,o,a,i,s,c,l=e.imageRef.current||e.videoRef.current;if(l&&e.containerRef){e.containerRect=e.containerRef.getBoundingClientRect();var p=e.containerRect.width/e.containerRect.height,g=((r=e.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((o=e.videoRef.current)===null||o===void 0?void 0:o.videoWidth)||0,C=((a=e.imageRef.current)===null||a===void 0?void 0:a.naturalHeight)||((i=e.videoRef.current)===null||i===void 0?void 0:i.videoHeight)||0,v=l.offsetWidth<g||l.offsetHeight<C,d=g/C,m=void 0;if(v)switch(e.props.objectFit){default:case"contain":m=p>d?{width:e.containerRect.height*d,height:e.containerRect.height}:{width:e.containerRect.width,height:e.containerRect.width/d};break;case"horizontal-cover":m={width:e.containerRect.width,height:e.containerRect.width/d};break;case"vertical-cover":m={width:e.containerRect.height*d,height:e.containerRect.height};break;case"auto-cover":m=g>C?{width:e.containerRect.width,height:e.containerRect.width/d}:{width:e.containerRect.height*d,height:e.containerRect.height};break}else m={width:l.offsetWidth,height:l.offsetHeight};e.mediaSize=ee(ee({},m),{naturalWidth:g,naturalHeight:C}),e.props.setMediaSize&&e.props.setMediaSize(e.mediaSize);var h=e.props.cropSize?e.props.cropSize:Qr(e.mediaSize.width,e.mediaSize.height,e.containerRect.width,e.containerRect.height,e.props.aspect,e.props.rotation);return(((s=e.state.cropSize)===null||s===void 0?void 0:s.height)!==h.height||((c=e.state.cropSize)===null||c===void 0?void 0:c.width)!==h.width)&&e.props.onCropSizeChange&&e.props.onCropSizeChange(h),e.setState({cropSize:h},e.recomputeCropPosition),e.props.setCropSize&&e.props.setCropSize(h),h}},e.onMouseDown=function(r){r.preventDefault(),e.currentDoc.addEventListener("mousemove",e.onMouseMove),e.currentDoc.addEventListener("mouseup",e.onDragStopped),e.onDragStart(n.getMousePoint(r))},e.onMouseMove=function(r){return e.onDrag(n.getMousePoint(r))},e.onTouchStart=function(r){e.isTouching=!0,!(e.props.onTouchRequest&&!e.props.onTouchRequest(r))&&(e.currentDoc.addEventListener("touchmove",e.onTouchMove,{passive:!1}),e.currentDoc.addEventListener("touchend",e.onDragStopped),r.touches.length===2?e.onPinchStart(r):r.touches.length===1&&e.onDragStart(n.getTouchPoint(r.touches[0])))},e.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?e.onPinchMove(r):r.touches.length===1&&e.onDrag(n.getTouchPoint(r.touches[0]))},e.onGestureStart=function(r){r.preventDefault(),e.currentDoc.addEventListener("gesturechange",e.onGestureMove),e.currentDoc.addEventListener("gestureend",e.onGestureEnd),e.gestureZoomStart=e.props.zoom,e.gestureRotationStart=e.props.rotation},e.onGestureMove=function(r){if(r.preventDefault(),!e.isTouching){var o=n.getMousePoint(r),a=e.gestureZoomStart-1+r.scale;if(e.setNewZoom(a,o,{shouldUpdatePosition:!0}),e.props.onRotationChange){var i=e.gestureRotationStart+r.rotation;e.props.onRotationChange(i)}}},e.onGestureEnd=function(r){e.cleanEvents()},e.onDragStart=function(r){var o,a,i=r.x,s=r.y;e.dragStartPosition={x:i,y:s},e.dragStartCrop=ee({},e.props.crop),(a=(o=e.props).onInteractionStart)===null||a===void 0||a.call(o)},e.onDrag=function(r){var o=r.x,a=r.y;e.rafDragTimeout&&e.currentWindow.cancelAnimationFrame(e.rafDragTimeout),e.rafDragTimeout=e.currentWindow.requestAnimationFrame(function(){if(!!e.state.cropSize&&!(o===void 0||a===void 0)){var i=o-e.dragStartPosition.x,s=a-e.dragStartPosition.y,c={x:e.dragStartCrop.x+i,y:e.dragStartCrop.y+s},l=e.props.restrictPosition?Ze(c,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):c;e.props.onCropChange(l)}})},e.onDragStopped=function(){var r,o;e.isTouching=!1,e.cleanEvents(),e.emitCropData(),(o=(r=e.props).onInteractionEnd)===null||o===void 0||o.call(r)},e.onWheel=function(r){if(!(e.props.onWheelRequest&&!e.props.onWheelRequest(r))){r.preventDefault();var o=n.getMousePoint(r),a=Jr(r).pixelY,i=e.props.zoom-a*e.props.zoomSpeed/200;e.setNewZoom(i,o,{shouldUpdatePosition:!0}),e.state.hasWheelJustStarted||e.setState({hasWheelJustStarted:!0},function(){var s,c;return(c=(s=e.props).onInteractionStart)===null||c===void 0?void 0:c.call(s)}),e.wheelTimer&&clearTimeout(e.wheelTimer),e.wheelTimer=e.currentWindow.setTimeout(function(){return e.setState({hasWheelJustStarted:!1},function(){var s,c;return(c=(s=e.props).onInteractionEnd)===null||c===void 0?void 0:c.call(s)})},250)}},e.getPointOnContainer=function(r){var o=r.x,a=r.y;if(!e.containerRect)throw new Error("The Cropper is not mounted");return{x:e.containerRect.width/2-(o-e.containerRect.left),y:e.containerRect.height/2-(a-e.containerRect.top)}},e.getPointOnMedia=function(r){var o=r.x,a=r.y,i=e.props,s=i.crop,c=i.zoom;return{x:(o+s.x)/c,y:(a+s.y)/c}},e.setNewZoom=function(r,o,a){var i=(a===void 0?{}:a).shouldUpdatePosition,s=i===void 0?!0:i;if(!(!e.state.cropSize||!e.props.onZoomChange)){var c=Ge(r,e.props.minZoom,e.props.maxZoom);if(s){var l=e.getPointOnContainer(o),p=e.getPointOnMedia(l),g={x:p.x*c-l.x,y:p.y*c-l.y},C=e.props.restrictPosition?Ze(g,e.mediaSize,e.state.cropSize,c,e.props.rotation):g;e.props.onCropChange(C)}e.props.onZoomChange(c)}},e.getCropData=function(){if(!e.state.cropSize)return null;var r=e.props.restrictPosition?Ze(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;return tn(r,e.mediaSize,e.state.cropSize,e.getAspect(),e.props.zoom,e.props.rotation,e.props.restrictPosition)},e.emitCropData=function(){var r=e.getCropData();if(!!r){var o=r.croppedAreaPercentages,a=r.croppedAreaPixels;e.props.onCropComplete&&e.props.onCropComplete(o,a),e.props.onCropAreaChange&&e.props.onCropAreaChange(o,a)}},e.emitCropAreaChange=function(){var r=e.getCropData();if(!!r){var o=r.croppedAreaPercentages,a=r.croppedAreaPixels;e.props.onCropAreaChange&&e.props.onCropAreaChange(o,a)}},e.recomputeCropPosition=function(){if(!!e.state.cropSize){var r=e.props.restrictPosition?Ze(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;e.props.onCropChange(r),e.emitCropData()}},e}return n.prototype.componentDidMount=function(){this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=un,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef)},n.prototype.componentWillUnmount=function(){var e;this.currentWindow.removeEventListener("resize",this.computeSizes),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((e=this.styleRef.parentNode)===null||e===void 0||e.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent()},n.prototype.componentDidUpdate=function(e){var r,o,a,i,s,c,l,p,g;e.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):e.aspect!==this.props.aspect?this.computeSizes():e.zoom!==this.props.zoom?this.recomputeCropPosition():((r=e.cropSize)===null||r===void 0?void 0:r.height)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.height)||((a=e.cropSize)===null||a===void 0?void 0:a.width)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.width)?this.computeSizes():(((s=e.crop)===null||s===void 0?void 0:s.x)!==((c=this.props.crop)===null||c===void 0?void 0:c.x)||((l=e.crop)===null||l===void 0?void 0:l.y)!==((p=this.props.crop)===null||p===void 0?void 0:p.y))&&this.emitCropAreaChange(),e.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),e.video!==this.props.video&&((g=this.videoRef.current)===null||g===void 0||g.load())},n.prototype.getAspect=function(){var e=this.props,r=e.cropSize,o=e.aspect;return r?r.width/r.height:o},n.prototype.onPinchStart=function(e){var r=n.getTouchPoint(e.touches[0]),o=n.getTouchPoint(e.touches[1]);this.lastPinchDistance=It(r,o),this.lastPinchRotation=Wt(r,o),this.onDragStart(Ht(r,o))},n.prototype.onPinchMove=function(e){var r=this,o=n.getTouchPoint(e.touches[0]),a=n.getTouchPoint(e.touches[1]),i=Ht(o,a);this.onDrag(i),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var s=It(o,a),c=r.props.zoom*(s/r.lastPinchDistance);r.setNewZoom(c,i,{shouldUpdatePosition:!1}),r.lastPinchDistance=s;var l=Wt(o,a),p=r.props.rotation+(l-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(p),r.lastPinchRotation=l})},n.prototype.render=function(){var e=this,r=this.props,o=r.image,a=r.video,i=r.mediaProps,s=r.transform,c=r.crop,l=c.x,p=c.y,g=r.rotation,C=r.zoom,v=r.cropShape,d=r.showGrid,m=r.style,h=m.containerStyle,x=m.cropAreaStyle,f=m.mediaStyle,b=r.classes,T=b.containerClassName,E=b.cropAreaClassName,k=b.mediaClassName,w=r.objectFit;return De("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(R){return e.containerRef=R},"data-testid":"container",style:h,className:Ue("reactEasyCrop_Container",T),children:[o?_("img",{...ee({alt:"",className:Ue("reactEasyCrop_Image",w==="contain"&&"reactEasyCrop_Contain",w==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",w==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",w==="auto-cover"&&(this.mediaSize.naturalWidth>this.mediaSize.naturalHeight?"reactEasyCrop_Cover_Horizontal":"reactEasyCrop_Cover_Vertical"),k)},i,{src:o,ref:this.imageRef,style:ee(ee({},f),{transform:s||"translate("+l+"px, "+p+"px) rotate("+g+"deg) scale("+C+")"}),onLoad:this.onMediaLoad})}):a&&_("video",{...ee({autoPlay:!0,loop:!0,muted:!0,className:Ue("reactEasyCrop_Video",w==="contain"&&"reactEasyCrop_Contain",w==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",w==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",w==="auto-cover"&&(this.mediaSize.naturalWidth>this.mediaSize.naturalHeight?"reactEasyCrop_Cover_Horizontal":"reactEasyCrop_Cover_Vertical"),k)},i,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:ee(ee({},f),{transform:s||"translate("+l+"px, "+p+"px) rotate("+g+"deg) scale("+C+")"}),controls:!1}),children:(Array.isArray(a)?a:[{src:a}]).map(function(y){return _("source",{...ee({key:y.src},y)})})}),this.state.cropSize&&_("div",{style:ee(ee({},x),{width:this.state.cropSize.width,height:this.state.cropSize.height}),"data-testid":"cropper",className:Ue("reactEasyCrop_CropArea",v==="round"&&"reactEasyCrop_CropAreaRound",d&&"reactEasyCrop_CropAreaGrid",E)})]})},n.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:dn,minZoom:ln,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0},n.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},n.getTouchPoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},n}(Qe.Component);const hn=fn;function pn(t){if(!!t&&!(typeof window>"u")){var n=document.createElement("style");return n.setAttribute("media","screen"),n.innerHTML=t,document.head.appendChild(n),t}}const ye="img-crop",er=1,Fe=.1,ht=0,rt=1,jt=-180,Zt=180,vn=u.exports.forwardRef((t,n)=>{const{cropperRef:e,image:r,aspect:o,shape:a,grid:i,zoom:s,rotate:c,minZoom:l,maxZoom:p,cropperProps:g}=t,[C,v]=u.exports.useState({x:0,y:0}),[d,m]=u.exports.useState({width:0,height:0}),[h,x]=u.exports.useState(er),[f,b]=u.exports.useState(ht),T=u.exports.useRef({width:0,height:0,x:0,y:0}),E=u.exports.useCallback(w=>{const{width:y,height:R}=w,M=R*o;y>M?m({width:M,height:R}):m({width:y,height:y/o})},[o]),k=u.exports.useCallback((w,y)=>{T.current=y},[]);return u.exports.useImperativeHandle(n,()=>({rotateVal:f,setZoomVal:x,setRotateVal:b,cropPixelsRef:T})),De(pt,{children:[_(hn,Object.assign({},g,{ref:e,image:r,crop:C,cropSize:d,onCropChange:v,aspect:o,cropShape:a,showGrid:i,zoomWithScroll:s,zoom:h,rotation:f,onZoomChange:x,onRotationChange:b,minZoom:l,maxZoom:p,onMediaLoaded:E,onCropComplete:k,classes:{containerClassName:`${ye}-container`,mediaClassName:`${ye}-media`}})),s&&De("section",Object.assign({className:`${ye}-control ${ye}-control-zoom`},{children:[_("button",Object.assign({onClick:()=>x(h-Fe),disabled:h-Fe<l},{children:"\uFF0D"})),_(Dt,{min:l,max:p,step:Fe,value:h,onChange:x}),_("button",Object.assign({onClick:()=>x(h+Fe),disabled:h+Fe>p},{children:"\uFF0B"}))]})),c&&De("section",Object.assign({className:`${ye}-control ${ye}-control-rotate`},{children:[_("button",Object.assign({onClick:()=>b(f-rt),disabled:f===jt},{children:"\u21BA"})),_(Dt,{min:jt,max:Zt,step:rt,value:f,onChange:b}),_("button",Object.assign({onClick:()=>b(f+rt),disabled:f===Zt},{children:"\u21BB"}))]}))]})});var mn=u.exports.memo(vn);pn(`.img-crop-modal .img-crop-container {
  position: relative;
  width: 100%;
  height: 40vh;
}
.img-crop-modal .img-crop-control {
  display: flex;
  align-items: center;
  width: 60%;
  margin-left: auto;
  margin-right: auto;
}
.img-crop-modal .img-crop-control:first-of-type {
  margin-top: 16px;
}
.img-crop-modal .img-crop-control:last-of-type {
  margin-bottom: -8px;
}
.img-crop-modal .img-crop-control button {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 34px;
  height: 34px;
  padding: 0;
  font-style: normal;
  background: transparent;
  border: 0;
  outline: 0;
  cursor: pointer;
}
.img-crop-modal .img-crop-control button[disabled] {
  cursor: default;
}
.img-crop-modal .img-crop-control button + div:only-of-type {
  flex: 1;
  margin: 0 8px;
}
.img-crop-modal .img-crop-control-zoom button {
  font-size: 18px;
}
.img-crop-modal .img-crop-control-rotate button {
  font-size: 16px;
}
.img-crop-modal .img-crop-control-rotate button:first-of-type {
  transform: rotate(-20deg);
}
.img-crop-modal .img-crop-control-rotate button:last-of-type {
  transform: rotate(20deg);
}
`);const gn=Ir(Lr,"4.23.0")===-1?{visible:!0}:{open:!0},Rn=u.exports.forwardRef((t,n)=>{const{aspect:e=1,shape:r="rect",grid:o=!1,quality:a=.4,fillColor:i="white",zoom:s=!0,rotate:c=!1,minZoom:l=1,maxZoom:p=3,modalTitle:g,modalWidth:C,modalOk:v,modalCancel:d,modalMaskTransitionName:m,modalTransitionName:h,modalClassName:x,onModalOk:f,onModalCancel:b,beforeCrop:T,onUploadFail:E,cropperProps:k,children:w}=t,y=u.exports.useRef({});y.current.onModalOk=f,y.current.onModalCancel=b,y.current.beforeCrop=T,y.current.onUploadFail=E;const[R,M]=u.exports.useState(""),F=u.exports.useRef({}),I=u.exports.useRef(),W=u.exports.useRef(()=>{}),z=u.exports.useRef(()=>{}),V=u.exports.useMemo(()=>{const N=Array.isArray(w)?w[0]:w,P=N.props,{beforeUpload:A,accept:$}=P,q=$r(P,["beforeUpload","accept"]);return I.current=A,Object.assign(Object.assign({},N),{props:Object.assign(Object.assign({},q),{accept:$||"image/*",beforeUpload:(Y,ie)=>new Promise((te,re)=>tt(void 0,void 0,void 0,function*(){if(y.current.beforeCrop&&!(yield y.current.beforeCrop(Y,ie)))return re();F.current=Y,W.current=K=>{var Q,J;(J=(Q=y.current).onModalOk)===null||J===void 0||J.call(Q,K),te(K)},z.current=K=>{var Q,J;(J=(Q=y.current).onUploadFail)===null||J===void 0||J.call(Q,K),re()};const se=new FileReader;se.addEventListener("load",()=>{typeof se.result=="string"&&M(se.result)}),se.readAsDataURL(Y)}))})})},[w]),U=u.exports.useRef({}),O=u.exports.useMemo(()=>{const N={width:C,okText:v,cancelText:d,maskTransitionName:m,transitionName:h};return Object.keys(N).forEach(P=>{const A=P;N[A]===void 0&&delete N[A]}),N},[d,m,v,h,C]),L=()=>{M(""),U.current.setZoomVal(er),U.current.setRotateVal(ht)},X=u.exports.useCallback(()=>{var N,P;(P=(N=y.current).onModalCancel)===null||P===void 0||P.call(N),L()},[]),ce=u.exports.useCallback(N=>tt(void 0,void 0,void 0,function*(){var P;L();const A=document.createElement("canvas"),$=A.getContext("2d"),q=N.target,ie=(((P=q==null?void 0:q.getRootNode)===null||P===void 0?void 0:P.call(q))||document).querySelector(`.${ye}-media`),{width:te,height:re,x:se,y:K}=U.current.cropPixelsRef.current;if(c&&U.current.rotateVal!==ht){const{naturalWidth:ne,naturalHeight:B}=ie,me=U.current.rotateVal*(Math.PI/180),oe=Math.abs(Math.sin(me)),Le=Math.abs(Math.cos(me)),ge=ne*Le+B*oe,de=B*Le+ne*oe;A.width=ge,A.height=de,$.fillStyle=i,$.fillRect(0,0,ge,de);const ke=ge/2,$e=de/2;$.translate(ke,$e),$.rotate(me),$.translate(-ke,-$e);const Ie=(ge-ne)/2,fe=(de-B)/2;$.drawImage(ie,0,0,ne,B,Ie,fe,ne,B);const Ve=$.getImageData(0,0,ge,de);A.width=te,A.height=re,$.putImageData(Ve,-se,-K)}else A.width=te,A.height=re,$.fillStyle=i,$.fillRect(0,0,te,re),$.drawImage(ie,se,K,te,re,0,0,te,re);const{type:Q,name:J,uid:j}=F.current;A.toBlob(ne=>tt(void 0,void 0,void 0,function*(){const B=Object.assign(new File([ne],J,{type:Q}),{uid:j});if(!I.current)return W.current(B);const me=B,oe=yield I.current(me,[me]);if(oe===!0)return W.current(B);if(oe===!1)return z.current(new Error("beforeUpload return false"));if(delete B[et.LIST_IGNORE],oe===et.LIST_IGNORE)return Object.defineProperty(B,et.LIST_IGNORE,{value:!0,configurable:!0}),z.current(new Error("beforeUpload return LIST_IGNORE"));if(typeof oe=="object"&&oe!==null)return W.current(oe)}),Q,a)}),[i,a,c]),le=N=>De(pt,{children:[V,R&&_(mr,Object.assign({},gn,{wrapClassName:`${ye}-modal ${x||""}`,title:N,onOk:ce,onCancel:X,maskClosable:!1,destroyOnClose:!0},O,{children:_(mn,{ref:U,cropperRef:n,image:R,aspect:e,shape:r,grid:o,zoom:s,rotate:c,minZoom:l,maxZoom:p,cropperProps:k})}))]});return g?le(g):_(vr,{children:(N,P)=>le(P==="zh-cn"?"\u7F16\u8F91\u56FE\u7247":"Edit image")})});export{Rn as I};
