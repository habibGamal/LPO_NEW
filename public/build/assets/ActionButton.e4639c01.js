import{M as B,_ as O}from"./index.22e636b3.js";import{r as f,a as P}from"./app.7be5e19f.js";import{B as _,c as R}from"./button.50356f47.js";function d(l){return!!(l&&!!l.then)}var S=function(e){var r=f.exports.useRef(!1),s=f.exports.useRef(null),m=B(!1),v=O(m,2),h=v[0],c=v[1],i=e.close,a=function(){i==null||i.apply(void 0,arguments)};f.exports.useEffect(function(){var o=null;return e.autoFocus&&(o=setTimeout(function(){var n;(n=s.current)===null||n===void 0||n.focus()})),function(){o&&clearTimeout(o)}},[]);var x=function(n){!d(n)||(c(!0),n.then(function(){c(!1,!0),a.apply(void 0,arguments),r.current=!1},function(t){console.error(t),c(!1,!0),r.current=!1}))},C=function(n){var t=e.actionFn;if(!r.current){if(r.current=!0,!t){a();return}var u;if(e.emitEvent){if(u=t(n),e.quitOnNullishReturnValue&&!d(u)){r.current=!1,a(n);return}}else if(t.length)u=t(i),r.current=!1;else if(u=t(),!u){a();return}x(u)}},g=e.type,k=e.children,y=e.prefixCls,A=e.buttonProps;return P(_,{...R(g),onClick:C,loading:h,prefixCls:y,...A,ref:s,children:k})};const F=S;export{F as A};
