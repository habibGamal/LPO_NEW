import{r as s,H as B,i as O,a as P}from"./app.948f2684.js";import{B as b,b as R}from"./button.bceeb35a.js";function d(l){return!!(l&&!!l.then)}var S=function(e){var r=s.exports.useRef(!1),f=s.exports.useRef(null),m=B(!1),v=O(m,2),h=v[0],c=v[1],i=e.close,a=function(){i==null||i.apply(void 0,arguments)};s.exports.useEffect(function(){var u=null;return e.autoFocus&&(u=setTimeout(function(){var n;(n=f.current)===null||n===void 0||n.focus()})),function(){u&&clearTimeout(u)}},[]);var x=function(n){!d(n)||(c(!0),n.then(function(){c(!1,!0),a.apply(void 0,arguments),r.current=!1},function(t){console.error(t),c(!1,!0),r.current=!1}))},C=function(n){var t=e.actionFn;if(!r.current){if(r.current=!0,!t){a();return}var o;if(e.emitEvent){if(o=t(n),e.quitOnNullishReturnValue&&!d(o)){r.current=!1,a(n);return}}else if(t.length)o=t(i),r.current=!1;else if(o=t(),!o){a();return}x(o)}},g=e.type,k=e.children,y=e.prefixCls,A=e.buttonProps;return P(b,{...R(g),onClick:C,loading:h,prefixCls:y,...A,ref:f,children:k})};const F=S;export{F as A};
